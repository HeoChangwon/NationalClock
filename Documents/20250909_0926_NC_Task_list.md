# National Clock - Task List

**문서 정보**
- 작성일: 2025년 9월 9일
- 프로젝트: National Clock
- 버전: 1.0

## 프로젝트 개발 단계

### Phase 1: 프로젝트 초기 설정

#### 1.1 프로젝트 생성 및 구조 설정
- [ ] **Task 1.1.1**: Visual Studio에서 새 WPF 프로젝트 생성
  - 프로젝트명: NationalClock
  - 타겟 프레임워크: .NET 8.0
  - 위치: D:\Work_Claude\2025\09\NationalClock\

- [ ] **Task 1.1.2**: 프로젝트 폴더 구조 생성
  - Models/ 폴더 생성
  - Services/ 폴더 생성
  - ViewModels/ 폴더 생성
  - Views/ 폴더 생성
  - Resources/ 폴더 생성

- [ ] **Task 1.1.3**: 필요한 NuGet 패키지 설치
  - System.Text.Json (설정 파일 처리용)
  - MaterialDesignThemes (Material Design UI)
  - MaterialDesignColors (Material Design 색상)
  - 국기 이미지 리소스 준비

#### 1.2 기본 아키텍처 구현
- [ ] **Task 1.2.1**: BaseViewModel 클래스 구현
  - INotifyPropertyChanged 구현
  - PropertyChanged 이벤트 헬퍼 메서드

- [ ] **Task 1.2.2**: RelayCommand 클래스 구현 (또는 CommunityToolkit.Mvvm 사용)
  - ICommand 인터페이스 구현
  - 명령 실행 로직

### Phase 2: 데이터 모델 및 비즈니스 로직

#### 2.1 Model 클래스 구현
- [ ] **Task 2.1.1**: TimeZoneInfo 모델 클래스 생성
  - 속성 정의: Id, DisplayName, TimeZoneId, FlagEmoji, FlagImagePath, IsEnabled, DisplayOrder
  - 기본 생성자 및 매개변수 생성자

- [ ] **Task 2.1.2**: ClockInfo 모델 클래스 생성
  - INotifyPropertyChanged 구현
  - 속성: TimeZone, CurrentTime, FormattedTime, DateString, Is24HourFormat

- [ ] **Task 2.1.3**: Settings 모델 클래스 생성
  - 애플리케이션 설정 관리용 모델
  - JSON 직렬화 지원

#### 2.2 Service 클래스 구현
- [ ] **Task 2.2.1**: TimeZoneManager 서비스 클래스 구현
  - Singleton 패턴 적용
  - 기본 타임존 데이터 초기화 (한국, 미시간, 폴란드)
  - 타임존 추가/제거/순서변경 메서드
  - 특정 타임존의 현재 시간 계산 메서드

- [ ] **Task 2.2.2**: ClockService 서비스 클래스 구현
  - DispatcherTimer를 이용한 1초 간격 업데이트
  - 모든 시계 정보 업데이트 로직
  - 12/24시간 형식 변환 로직
  - 시작/정지 메서드

- [ ] **Task 2.2.3**: SettingsManager 서비스 클래스 구현
  - Singleton 패턴 적용
  - JSON 파일을 이용한 설정 저장/로드
  - 다크모드, 항상위에표시 옵션 포함
  - 기본 설정값 정의

- [ ] **Task 2.2.4**: ThemeManager 서비스 클래스 구현
  - Singleton 패턴 적용
  - Material Design 테마 관리
  - 다크/라이트 모드 전환 기능
  - 테마 리소스 동적 로딩

### Phase 3: ViewModel 구현

#### 3.1 MainViewModel 구현
- [ ] **Task 3.1.1**: MainViewModel 클래스 생성
  - ClockService 및 TimeZoneManager 의존성 주입
  - 시계 컬렉션 바인딩용 속성

- [ ] **Task 3.1.2**: 명령(Command) 구현
  - ToggleFormatCommand: 12/24시간 형식 토글
  - OpenSettingsCommand: 설정 창 열기
  - AddTimeZoneCommand: 타임존 추가 (빠른 추가용)
  - ToggleThemeCommand: 다크/라이트 모드 토글
  - ToggleAlwaysOnTopCommand: 항상 위에 표시 토글

- [ ] **Task 3.1.3**: 속성 바인딩 구현
  - Is24HourFormat 속성과 양방향 바인딩
  - IsDarkMode, IsAlwaysOnTop 속성 바인딩
  - WindowTitle 속성
  - 시계 컬렉션 ObservableCollection 바인딩

#### 3.2 SettingsViewModel 구현
- [ ] **Task 3.2.1**: SettingsViewModel 클래스 생성
  - 사용 가능한 타임존 목록 관리
  - 현재 활성화된 타임존 목록 관리

- [ ] **Task 3.2.2**: 설정 관리 명령 구현
  - AddTimeZoneCommand: 타임존 추가
  - RemoveTimeZoneCommand: 타임존 제거
  - MoveUpCommand/MoveDownCommand: 순서 변경
  - SaveCommand/CancelCommand: 저장/취소
  - 테마 및 창 옵션 설정 명령

### Phase 4: UI 구현

#### 4.1 MainWindow 구현
- [ ] **Task 4.1.1**: MainWindow XAML 레이아웃 설계 (Material Design)
  - 전체 창 레이아웃 (Material Design 스타일)
  - 헤더 영역 (제목, 다크모드, 항상위에, 12H/24H 토글, 설정 버튼)
  - 시계 목록 영역 (ItemsControl 또는 ListBox)
  - Material Design Card 스타일 적용

- [ ] **Task 4.1.2**: 시계 항목 DataTemplate 구현 (Material Design)
  - 국가명/도시명 표시
  - 시간 표시 (큰 글씨, Material Design Typography)
  - 날짜 표시
  - 국기 이미지 및 텍스트 이모지 병행 표시
  - Material Design Card 스타일링

- [ ] **Task 4.1.3**: MainWindow 코드비하인드 구현
  - DataContext 설정
  - 창 닫기 시 타이머 정리
  - 창 위치/크기 저장/복원
  - 항상 위에 표시 기능 구현
  - 테마 변경 시 동적 스타일 업데이트

#### 4.2 SettingsWindow 구현
- [ ] **Task 4.2.1**: SettingsWindow XAML 레이아웃 설계 (Material Design)
  - 시간 형식 선택 영역 (Material Design RadioButton)
  - 테마 선택 영역 (다크/라이트 모드)
  - 창 옵션 (항상 위에 표시)
  - 타임존 선택 영역 (2개 ListBox + Material 버튼들)
  - 확인/취소 버튼 (Material Design 스타일)

- [ ] **Task 4.2.2**: SettingsWindow 코드비하인드 구현
  - DataContext 설정
  - 모달 다이얼로그 처리
  - 테마 변경 시 실시간 미리보기
  - 드래그 앤 드롭 지원 (선택적)

#### 4.3 스타일 및 리소스
- [ ] **Task 4.3.1**: Material Design 스타일 정의
  - Material Design 버튼 스타일
  - Material Design 타이포그래피 (시간, 날짜, 제목 등)
  - 다크/라이트 테마 색상 팔레트
  - Material Design 카드 스타일
  - 아이콘 및 버튼 애니메이션

- [ ] **Task 4.3.2**: 리소스 파일 준비
  - 국기 이미지 컨렉션 (한국, 미국, 폴란드 등)
  - Material Design 아이콘 팩
  - 애플리케이션 아이콘 (다크/라이트 모드용)
  - 테마별 리소스 디렉토리 구성

### Phase 5: 통합 및 테스트

#### 5.1 기능 통합
- [ ] **Task 5.1.1**: 전체 애플리케이션 흐름 연결
  - App.xaml.cs에서 초기화 로직
  - 서비스 간 의존성 연결
  - ViewModel과 View 연결

- [ ] **Task 5.1.2**: 설정 저장/로드 통합
  - 애플리케이션 시작 시 설정 로드
  - 설정 변경 시 자동 저장
  - 기본 설정 생성

- [ ] **Task 5.1.3**: 에러 처리 구현
  - 타임존 계산 오류 처리
  - 파일 I/O 오류 처리
  - UI 예외 처리

#### 5.2 테스트 및 검증
- [ ] **Task 5.2.1**: 기본 기능 테스트
  - 정확한 시간 표시 확인
  - 12/24시간 형식 변환 확인
  - 타임존별 시차 계산 확인

- [ ] **Task 5.2.2**: UI 반응성 테스트
  - 1초 간격 업데이트 확인
  - 설정 창 열기/닫기 테스트
  - 타임존 추가/제거 테스트

- [ ] **Task 5.2.3**: 장시간 실행 안정성 테스트
  - 메모리 누수 검사
  - 24시간 연속 실행 테스트
  - 시스템 리소스 사용량 모니터링

### Phase 6: 최종 마무리

#### 6.1 성능 최적화
- [ ] **Task 6.1.1**: 메모리 사용량 최적화
  - 불필요한 객체 참조 제거
  - 이벤트 핸들러 적절한 해제
  - 가비지 컬렉션 최적화

- [ ] **Task 6.1.2**: UI 성능 최적화
  - 데이터 바인딩 최적화
  - 렌더링 성능 개선
  - Material Design 애니메이션 최적화
  - 테마 전환 성능 개선

#### 6.2 사용자 경험 개선
- [ ] **Task 6.2.1**: 접근성 개선
  - 키보드 네비게이션 지원
  - Material Design 고대비 모드 지원
  - 스크린 리더 지원
  - 다크 모드에서의 접근성 개선

- [ ] **Task 6.2.2**: 사용성 개선
  - 툴팁 추가
  - 상태 메시지 표시
  - 오류 메시지 사용자 친화적 개선

#### 6.3 문서화 및 배포 준비
- [ ] **Task 6.3.1**: 사용자 문서 작성
  - 사용 방법 가이드
  - 설치 가이드
  - FAQ 문서

- [ ] **Task 6.3.2**: 배포 패키지 준비
  - 실행 파일 빌드
  - 설치 프로그램 생성 (선택적)
  - 의존성 파일 포함

## 우선순위 및 예상 소요시간

### 높은 우선순위 (필수 기능)
- Phase 1: 프로젝트 초기 설정 (1-2일)
- Phase 2: 데이터 모델 및 비즈니스 로직 (2-3일)
- Phase 3: ViewModel 구현 (1-2일)
- Phase 4.1-4.2: 기본 UI 구현 (2-3일)
- Phase 5.1: 기본 통합 (1일)

### 중간 우선순위 (개선 기능)
- Phase 4.3: 스타일 및 리소스 (1-2일)
- Phase 5.2: 테스트 및 검증 (1-2일)
- Phase 6.1: 성능 최적화 (1일)

### 낮은 우선순위 (부가 기능)
- Phase 6.2: 사용자 경험 개선 (1-2일)
- Phase 6.3: 문서화 및 배포 준비 (1일)

**총 예상 소요시간**: 12-20일 (Material Design 및 추가 기능 포함, 개발자 경험과 요구사항에 따라 변동)

## 위험 요소 및 대응 방안

### 기술적 위험
- **위험**: .NET 8.0 및 Material Design 호환성 문제
- **대응**: 초기에 .NET 8.0 및 MaterialDesignThemes 버전 결정 및 테스트

- **위험**: 타임존 계산 정확성 문제
- **대응**: System.TimeZoneInfo 클래스 활용 및 충분한 테스트

- **위험**: UI 성능 저하
- **대응**: 가상화 및 비동기 처리 적용

### 일정 위험
- **위험**: 기능 범위 확장으로 인한 일정 지연
- **대응**: MVP(Minimum Viable Product) 우선 개발

- **위험**: 예상치 못한 기술적 난이도
- **대응**: 기술적 스파이크를 통한 사전 검증